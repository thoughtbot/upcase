<%= render "mentor_info" %>
<% content_for :page_title, "Practice" %>

<% if locked_features.any? %>
  <%= render "products/locked_features" %>
<% end %>

<section class="practice">
  <div class="content">
    <section class="trails-progress">
      <header class="section-title">
        <h1>Welcome, Ben.</h1>
        <h2>
          Here's where you left off...
        </h2>
      </header>

      <span class="divider">
        <h4 class="text">Your Trails</h4>
      </span>

      <%= render partial: "practice/trail", collection: @practice.trails %>

      <span class="divider">
        <h4 class="text">Completed Trails</h4>
      </span>

      <section class="trail-titles">
        <span class="divider">
          <h4 class="text">All Trails</h4>
        </span>
        <ul>
          <li class="haskell"><a href="">Haskell Fundamentals</a></li>
          <li class="clean-code"><a href="">Refactoring</a></li>
          <li class="testing"><a href="">Testing Fundamentals</a></li>
          <li class="vim"><a href="">Vim Fundamentals</a></li>
          <li class="javascript"><a href="">Javascript Fundamentals</a></li>
          <li class="clojure"><a href="">Clojure Fundamentals</a></li>
          <li class="ruby-on-rails"><a href="">Ruby Fundamentals</a></li>
          <li class="workflow"><a href="">Workflow Fundamentals</a></li>
          <li class="analytics"><a href="">Analytics Fundamentals</a></li>
        </ul>
      </section>

      <footer>
        <% if @practice.has_completed_trails? %>
          <p>
            <%= link_to completed_trails_path do %>
              View completed trails &rarr;
            <% end %>
          </p>
        <% end %>

        <% if analytics? %>
          <p>
            or
          </p>

          <p>
            <a href="#" class="trail-hint">Tell us which trails you'd like to see</a>
          </p>

          <% content_for :javascript do %>
            <script type="text/javascript">
              $(".trail-hint" ).click(function(event) {
                Intercom('show');
                event.preventDefault();
              });
            </script>
          <% end %>
        <% end %>
      </footer>
    </section>
  </div>
</section>
